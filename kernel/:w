#pragma once

#include <micro/types.h>

struct mbrent
{
    uint8_t  attr;
    uint8_t  startchs[3];
    uint8_t  type;
    uint8_t  endchs[3];
    uint32_t startlba;
    uint32_t sectors;
};

struct mbr
{
    uint32_t      diskid;
    uint16_t      res;
    struct mbrent parts[4];
    uint16_t      sig; // 0xaa55
};

void mbr_init(const char* dev);
